# 数字内容安全实验报告

## 一.模拟环境
在本次实验中，我们模拟了网站、用户和攻击者三方的可能操作并加以实现。

### 1.网站及客户端实现
+  张华睿
### 2.用户传输隐写后秘密信息的嵌入和提取
+  曲乐然
### 3.攻击者爬取网页
+  李洲阳

## 二.实验构想：
    
在我们构建本次实验的预想中：
    
网站：可用以用户的注册、登录、注销、上传和浏览，并可为全网的用户点赞（likes）。网站所能传输的内容有一定的限制，只有特定格式的图片才能上传成功。网站不做反爬保护。

客户端：同样允许用户做出同网站相同的操作，但这是一个被植入后门的客户端，会将用户的秘密信息————本地文件夹下所有子文件夹名会以二进制比特流的形式隐写在图片里；在秘密信息过长的情况下，允许对秘密信息进行分片并保存在不同的图片里，为了便以识别和提取，嵌入同一秘密信息不同部分的图片会标记相同的序列号。

用户方：上传自己任何希望上传的图片，不限数量、次数。网站、客户端均允许他的使用。

攻击者：以游客身份访问网站或客户端，允许作为普通用户浏览其他用户上传的全部图片，允许对图片进行读取、保存操作

## 三.实验的实现细则


>网站/客户端服务的实现：用户使用细则

网站允许用户的注册Sign up：
![sign up](images/SignUp.png)

登录Log in：
![Log in](images/LogIn.png)

在用户登录成功后，可上传自己所想要上传或删除自己已上传的帖子：
![Add Note](images/AddNote.png)

登出Log out：
![Log out](images/LogOut.png)

允许未登录或登出的用户以游客的形式访问全站。可以在喜欢的帖子下互动（likes）

>客户端后门：秘密信息嵌入

用户将一张普通的图像传入别植入后门的客户端,嵌入前后在视觉上没有明显差异。但以读取并嵌入了用户的秘密信息（尽可能避免中文路径）

原图：
![OriImge](images/2001928.jpg)

嵌入后：
![Imge_LSB](images/ushiwakamaru_LSB.png)

>实现攻击：爬取并提取秘密信息

爬虫按游客页面顺序依次爬取所有信息，以字符串形式保存

利用正则表达式筛选网页所有图片并保存到本地：

爬取后按序列号分辨图片是否包含秘密信息及秘密信息的次序：

将秘密信息按次序提取出并拼接完整