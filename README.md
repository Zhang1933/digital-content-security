# 数字内容安全小学期实践

### 进入所在目录
用pipenv 管理环境 初始pipenv,换源已经弄好了
```python
# 安装环境
pipenv install
# 进入虚拟环境：
pipenv shell
```

## web 部分
## 水印嵌入部分
### 水印算法：LSB替换算法
算原理：将字符串中的每个字符对应的UTF-8编码转化成定长16位二进制码，并在前面加入16位的校验码用以检验待检测图像是否为含密图像，以及16位的定长二进制码作为嵌入信息的长度。使用计数器记忆嵌入与提取的比特数，当计数器与长度相等时，嵌入/提取结束。
#### 嵌入算法
对图像的每个像素，依次对其r,g,b三个通道的LSB嵌入一位秘密信息（用秘密信息比特替换其对应的LSB）。
#### 提取算法
先提取待检测图像前16位LSB，与校验码进行比较，如果不一致，则直接终止提取，如果一致，再提取16位LSB，将其转化为十进制，此即为嵌入秘密信息比特的长度，计数器到达长度时提取结束，以16比特为单位进行切片，转化为十进制数，并进一步转化为对应的UTF-8字符。秘密信息提取结束
### 帮助文档：
#### embed(imgpath)
函数功能：水印生成与嵌入算法，使用用户目录作为根目录，遍历其子目录，生成的字符串作为秘密信息
imgpath:载体图像的相对或绝对路径
函数结果：在当前文件夹下生成含密图像'ushimaru_LSB.png'
#### extract(imgpath)
函数功能：水印提取算法，将秘密信息提取并存储到当前文件夹下‘content1.txt文件中’
imgpath:含密图像的路径
函数结果：在当前路径下输出一个存储有含密信息的文档
## 爬虫部分

### 爬虫原理 
利用正则表达式判断目标网站中所有的图片信息，并将其链接在列表里保存下来。遍历整个网站后，依次访问链接所对应的图片并将它们保存下来

### 帮助文档
库名re_crawler

函数名：crwaler

函数所需传入变量：url,path

所要传入的第一个变量url为所需爬取的网站的地址（包括端口号），**以字符串形式输入**。形如 xxx.xxx.xxx.xxx:yyyy。库为这一变量设置了默认值：192.168.43.137:5000。

所要传入的第二个变量path为爬取图片的保存文件夹。**以字符串形式输入**需要使用者输入理想的保存文件夹的路径。库不会自行创建一个新的文件夹，只能将图片保存在一个已有的文件夹里。库为这个变量设置了一个默认值：image\\\
