# 数字内容安全小学期实践

### 进入所在目录
用pipenv 管理环境 初始pipenv,换源已经弄好了
```python
# 安装环境
pipenv install
# 进入虚拟环境：
pipenv shell
```

## web 部分
## 水印嵌入部分
### 水印算法：LSB替换算法
算法原理：将字符串中的每个字符对应的UTF-8编码转化成定长的16位二进制码，并在前面加入16位的校验码用以检验待检测图像是否为含密图像，以及16位的定长二进制码作为嵌入信息的长度。使用计数器记忆嵌入与提取的比特数，当计数器与长度相等时，嵌入/提取结束。
#### 嵌入算法
对图像的每个像素，依次对其r,g,b三个通道的LSB嵌入一位秘密信息（用秘密信息比特替换其对应的LSB）。
#### 提取算法
先提取待检测图像前16位LSB，与校验码进行比较，如果不一致，则直接终止提取，如果一致，再提取16位LSB，将其转化为十进制，此即为嵌入秘密信息比特的长度，计数器到达长度时提取结束，以16比特为单位进行切片，转化为十进制数，并进一步转化为对应的UTF-8字符。秘密信息提取结束
### 帮助文档：
#### embed(flst,imgpath)
函数功能：水印生成与嵌入算法
flst：输入任意一个文件夹目录，将以其为根目录遍历其下所有的子目录，将子目录名作为秘密信息字符串
imgpath:载体图像的相对或绝对路径
函数结果：在当前文件夹下生成含密图像'ushimaru_LSB.png'
#### extract(imgpath)
函数功能：水印提取算法，将秘密信息提取并存储到当前文件夹下‘content1.txt文件中’
imgpath:含密图像的路径
函数结果：在当前路径下输出一个存储有含密信息的文档
## 爬虫部分
